<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RTOS Facilities C API module | PROS for
V5</title>
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="pros-custom.css" />
  <link rel="stylesheet" href="pros-code.css" />
  <link rel="icon" href="logo.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#e6b85c" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m"><img src="logo.png" alt="" />PROS <span class="m-thin">for
V5</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="getting-started.html">Getting Started</a></li>
            <li>
              <a href="tutorials.html">Tutorials</a>
              <ol>
                <li><a href="general-tutorials.html">General Tutorials</a></li>
                <li><a href="walkthrough-tutorials.html">Walkthrough Tutorials</a></li>
                <li><a href="topical-tutorials.html">Topical Tutorials</a></li>
              </ol>
            </li>
            <li><a href="api.html">API Home</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li>
              <a href="#">Other</a>
              <ol>
                <li><a href="pages.html">Pages</a></li>
                <li><a href="annotated.html">Classes</a></li>
                <li><a href="modules.html">Modules</a></li>
                <li><a href="namespaces.html">Namespaces</a></li>
                <li><a href="files.html">Files</a></li>
              </ol>
            </li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          RTOS Facilities C API <span class="m-thin">module</span></h1>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#files">Files</a></li>
                <li><a href="#func-members">Functions</a></li>
                <li><a href="#macros">Macros</a></li>
                <li><a href="#typedefs">Typedefs</a></li>
                <li><a href="#enumerations">Enumerations</a></li>
                <li><a href="#define-members">Defines</a></li>
              </ul>
            </li>
          </ul>
        </div>
<aside class="m-note m-info"><h4>Note</h4><p>Additional example code for this module can be found in its <a href="multitasking.html" class="m-doc">Tutorial.</a></p></aside>
        <section id="files">
          <h2><a href="#files">Files</a></h2>
          <dl class="m-doc">
            <dt>file <a href="rtos_8h.html" class="m-doc">rtos.h</a></dt>
            <dd></dd>
          </dl>
        </section>
        <section id="func-members">
          <h2><a href="#func-members">Functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaa247cd38039665b7ac4b0d0920b83c80" class="m-doc-self">millis</a>(</span><span class="m-doc-wrap">void)</span></span>
            </dt>
            <dd>Gets the number of milliseconds since PROS initialized.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">uint64_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaea905a8de368ac9acc9ed04c66ebb84c" class="m-doc-self">micros</a>(</span><span class="m-doc-wrap">void)</span></span>
            </dt>
            <dd>Gets the number of microseconds since PROS initialized,.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gab7f6e243b717091fec2bac6405bd3d56" class="m-doc-self">task_create</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#afd273bc26dce33480b445457e89bfaeb" class="m-doc">task_<wbr />fn_<wbr />t</a> function,
              void*const parameters,
              uint32_t prio,
              const uint16_t stack_depth,
              const char*const name)</span></span>
            </dt>
            <dd>Creates a new task and add it to the list of tasks that are ready to run.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga9f5bd026f982b738d8761c443af586da" class="m-doc-self">task_delete</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Removes a task from the RTOS real time kernel&#x27;s management.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga4954a1ed8e37fd9b758ff98bf3ecf7d4" class="m-doc-self">task_delay</a>(</span><span class="m-doc-wrap">const uint32_t milliseconds)</span></span>
            </dt>
            <dd>Delays the current task for a given number of milliseconds.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga6a62f5325d65f95436762552df547d73" class="m-doc-self">delay</a>(</span><span class="m-doc-wrap">const uint32_t milliseconds)</span></span>
            </dt>
            <dd>Delays the current task for a given number of milliseconds.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga151eaf730a10d101bff15013a76b9aa8" class="m-doc-self">task_delay_until</a>(</span><span class="m-doc-wrap">uint32_t*const prev_time,
              const uint32_t delta)</span></span>
            </dt>
            <dd>Delays the current task until a specified time.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gab49c228af50a4677d45e4622fb5f982b" class="m-doc-self">task_get_priority</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Gets the priority of the specified task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga6f4a1c359ab23c7811ed524aa8f71e06" class="m-doc-self">task_set_priority</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task,
              uint32_t prio)</span></span>
            </dt>
            <dd>Sets the priority of the specified task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">task_state_e_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga2e78836b08bab39de392cc6583383c5c" class="m-doc-self">task_get_state</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Gets the state of the specified task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga03b6c85287d209a26f882813f3a29eee" class="m-doc-self">task_suspend</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Suspends the specified task, making it ineligible to be scheduled.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf44f1148d2f7ede99ebd023479812fba" class="m-doc-self">task_resume</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Resumes the specified task, making it eligible to be scheduled.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gabb3a36bf47f6df9c981b1d585b922497" class="m-doc-self">task_get_count</a>(</span><span class="m-doc-wrap">void)</span></span>
            </dt>
            <dd>Gets the number of tasks the kernel is currently managing, including all ready, blocked, or suspended tasks.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">char* </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga1000d8e18af587837b65ab74b79d1cc8" class="m-doc-self">task_get_name</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Gets the name of the specified task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gace3de5c48a2d91b9843ac9bd62a62d91" class="m-doc-self">task_get_by_name</a>(</span><span class="m-doc-wrap">const char* name)</span></span>
            </dt>
            <dd>Gets a task handle from the specified name.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga663301f01d0cc8ecfd238fbe1346fc4d" class="m-doc-self">task_get_current</a>(</span><span class="m-doc-wrap">)</span></span>
            </dt>
            <dd>Get the currently running task handle.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf69af2a08ca85bd16fa3d1b75dbcf790" class="m-doc-self">task_notify</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Sends a simple notification to task and increments the notification counter.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga9fa0dd52656774090c0005eb43ef2827" class="m-doc-self">task_join</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Utilizes task notifications to wait until specified task is complete and deleted, then continues to execute the program.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf21b3326026e04f277e85236f4ff503a" class="m-doc-self">task_notify_ext</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task,
              uint32_t value,
              notify_action_e_t action,
              uint32_t* prev_value)</span></span>
            </dt>
            <dd>Sends a notification to a task, optionally performing some action.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga15f1230bbc0fe029caf775a393b4a897" class="m-doc-self">task_notify_take</a>(</span><span class="m-doc-wrap">bool clear_on_exit,
              uint32_t timeout)</span></span>
            </dt>
            <dd>Waits for a notification to be nonzero.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">bool </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga82a2d584952478f46b9bc766395bb8c2" class="m-doc-self">task_notify_clear</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
            </dt>
            <dd>Clears the notification for a task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga92aa79cdc30ffd13f63a7ffeca64b06f" class="m-doc-self">mutex_create</a>(</span><span class="m-doc-wrap">void)</span></span>
            </dt>
            <dd>Creates a mutex.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">bool </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga49aa5444b488ff60fc458aea8172adc2" class="m-doc-self">mutex_take</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> mutex,
              uint32_t timeout)</span></span>
            </dt>
            <dd>Takes and locks a mutex, waiting for up to a certain number of milliseconds before timing out.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">bool </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga7f20ed94cee8e04d491743b4b34feda1" class="m-doc-self">mutex_give</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> mutex)</span></span>
            </dt>
            <dd>Unlocks a mutex.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf5995c8132175bc8e76904ccd1f6e39a" class="m-doc-self">mutex_delete</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> mutex)</span></span>
            </dt>
            <dd>Deletes a mutex.</dd>
          </dl>
        </section>
        <section id="macros">
          <h2><a href="#macros">Macros</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga87892f18571e88eba7fbe758759cac05" class="m-doc">TASK_PRIORITY_MAX</a></span>
            </dt>
            <dd>The highest priority that can be assigned to a task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#gae35baef65db45cef90a74266acb31b10" class="m-doc">TASK_PRIORITY_MIN</a></span>
            </dt>
            <dd>The lowest priority that can be assigned to a task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga3082a7e8f15691441dba683711bb823f" class="m-doc">TASK_PRIORITY_DEFAULT</a></span>
            </dt>
            <dd>The default task priority, which should be used for most tasks unless you have a specific need for a higher or lower priority task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga9ffb33b9e3714ca949d9f45dde3cbf8f" class="m-doc">TASK_STACK_DEPTH_DEFAULT</a></span>
            </dt>
            <dd>The recommended stack size for a new task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#gafa551bbf9a2333b9241b2e99530a8767" class="m-doc">TASK_STACK_DEPTH_MIN</a></span>
            </dt>
            <dd>The minimal stack size for a task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga6d22565b4bdfe36c8f8a0a376e565460" class="m-doc">TASK_NAME_MAX_LEN</a></span>
            </dt>
            <dd>The maximum number of characters allowed in a task&#x27;s name.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga9146d5b264ff64b573607d62fc479c3f" class="m-doc">TIMEOUT_MAX</a></span>
            </dt>
            <dd>The maximum timeout value that can be given to, for instance, a mutex grab.</dd>
          </dl>
        </section>
        <section id="typedefs">
          <h2><a href="#typedefs">Typedefs</a></h2>
          <dl class="m-doc">
            <dt>
              using <a href="#ga1d7e0825b8d8876e8cd8ece3f9115293" class="m-doc">task_t</a> = void*
            </dt>
            <dd>An opaque type that pontis to a task handle.</dd>
            <dt>
              using <a href="#gaece0aa29b1f1538115228d2197239f98" class="m-doc">task_fn_t</a> = void(*)(void*)
            </dt>
            <dd>A pointer to a task&#x27;s function.</dd>
            <dt>
              using <a href="#gab15ea84d90257d70b44e8e04519864d2" class="m-doc">mutex_t</a> = void*
            </dt>
            <dd>A <a href="multitasking.html" class="m-doc">mutex.</a>.</dd>
          </dl>
        </section>
        <section id="enumerations">
          <h2><a href="#enumerations">Enumerations</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">enum <a href="#ga23d5ffd47ed255206f177fe9d891335b" class="m-doc">task_state_e_t</a> { </span><span class="m-doc-wrap"><a href="#gga23d5ffd47ed255206f177fe9d891335ba3b7873566c73fb17191451f641f3f564" class="m-doc">E_TASK_STATE_RUNNING</a> = 0,
              <a href="#gga23d5ffd47ed255206f177fe9d891335ba7a9b05db250161908d541259cc9b6c08" class="m-doc">E_TASK_STATE_READY</a>,
              <a href="#gga23d5ffd47ed255206f177fe9d891335ba833a2009d6613fe7f3357551c525e953" class="m-doc">E_TASK_STATE_BLOCKED</a>,
              <a href="#gga23d5ffd47ed255206f177fe9d891335ba1c6ab831f17838fb926088f3353cb13c" class="m-doc">E_TASK_STATE_SUSPENDED</a>,
              <a href="#gga23d5ffd47ed255206f177fe9d891335ba521c1585b4d885ca38cc463d74d1fa4d" class="m-doc">E_TASK_STATE_DELETED</a>,
              <a href="#gga23d5ffd47ed255206f177fe9d891335ba4b91d8b231764bb6556618bdb78c34a0" class="m-doc">E_TASK_STATE_INVALID</a> }</span>
            </dt>
            <dd>The state of a task.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">enum <a href="#ga42ea99b5e5d38da0b98154609cf6c570" class="m-doc">notify_action_e_t</a> { </span><span class="m-doc-wrap"><a href="#gga42ea99b5e5d38da0b98154609cf6c570a8ef04ba61995d97d82fd7bf1ff4d772f" class="m-doc">E_NOTIFY_ACTION_NONE</a>,
              <a href="#gga42ea99b5e5d38da0b98154609cf6c570adc1fa6911e0d71db6404d3c8b7276e02" class="m-doc">E_NOTIFY_ACTION_BITS</a>,
              <a href="#gga42ea99b5e5d38da0b98154609cf6c570ab9b6a7e40e7b9553e8b1782b2c0bc155" class="m-doc">E_NOTIFY_ACTION_INCR</a>,
              <a href="#gga42ea99b5e5d38da0b98154609cf6c570a11be52cd9271cd1504f7555b73e5bd89" class="m-doc">E_NOTIFY_ACTION_OWRITE</a>,
              <a href="#gga42ea99b5e5d38da0b98154609cf6c570a735b4ce042c8998c9432449b5f7efdc5" class="m-doc">E_NOTIFY_ACTION_NO_OWRITE</a> }</span>
            </dt>
            <dd>brief The action to take when a task is notified.</dd>
          </dl>
        </section>
        <section id="define-members">
          <h2><a href="#define-members">Defines</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#gad028cb03c935557184a71a6c53915065" class="m-doc">CURRENT_TASK</a></span>
            </dt>
            <dd>The task handle of the currently running task.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="gaa247cd38039665b7ac4b0d0920b83c80"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaa247cd38039665b7ac4b0d0920b83c80" class="m-doc-self">millis</a>(</span><span class="m-doc-wrap">void)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Gets the number of milliseconds since PROS initialized.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The number of milliseconds since PROS initialized</td>
                </tr>
              </tfoot>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do opcontrol things</span>
<span class="w">    </span><span class="n">task_delay_until</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gaea905a8de368ac9acc9ed04c66ebb84c"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint64_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaea905a8de368ac9acc9ed04c66ebb84c" class="m-doc-self">micros</a>(</span><span class="m-doc-wrap">void)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Gets the number of microseconds since PROS initialized,.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The number of microseconds since PROS initialized</td>
                </tr>
              </tfoot>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">micros</span><span class="p">();</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do opcontrol things</span>
<span class="w">    </span><span class="n">task_delay_until</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gab7f6e243b717091fec2bac6405bd3d56"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gab7f6e243b717091fec2bac6405bd3d56" class="m-doc-self">task_create</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#afd273bc26dce33480b445457e89bfaeb" class="m-doc">task_<wbr />fn_<wbr />t</a> function,
              void*const parameters,
              uint32_t prio,
              const uint16_t stack_depth,
              const char*const name)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Creates a new task and add it to the list of tasks that are ready to run.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">function</td>
                  <td>Pointer to the task entry function</td>
                </tr>
                <tr>
                  <td>parameters</td>
                  <td>Pointer to memory that will be used as a parameter for the task being created. This memory should not typically come from stack, but rather from dynamically (i.e., malloc&#x27;d) or statically allocated memory.</td>
                </tr>
                <tr>
                  <td>prio</td>
                  <td>The priority at which the task should run. TASK_PRIO_DEFAULT plus/minus 1 or 2 is typically used.</td>
                </tr>
                <tr>
                  <td>stack_depth</td>
                  <td>The number of words (i.e. 4 * stack_depth) available on the task&#x27;s stack. TASK_STACK_DEPTH_DEFAULT is typically sufficienct.</td>
                </tr>
                <tr>
                  <td>name</td>
                  <td>A descriptive name for the task. This is mainly used to facilitate debugging. The name may be up to 32 characters long.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>A handle by which the newly created task can be referenced. If an error occurred, NULL will be returned and errno can be checked for hints as to why task_create failed.</td>
                </tr>
              </tfoot>
            </table>
<p>This function uses the following values of errno when an error state is reached: ENOMEM - The stack cannot be used as the TCB was not created.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                              </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga9f5bd026f982b738d8761c443af586da"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga9f5bd026f982b738d8761c443af586da" class="m-doc-self">task_delete</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Removes a task from the RTOS real time kernel&#x27;s management.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The handle of the task to be deleted. Passing NULL will cause the calling task to be deleted.</td>
                </tr>
              </tbody>
            </table>
<p>The task being deleted will be removed from all ready, blocked, suspended and event lists.</p><p>Memory dynamically allocated by the task is not automatically freed, and should be freed before the task is deleted.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Do other things</span>
<span class="w">  </span><span class="n">task_delete</span><span class="p">(</span><span class="n">my_task</span><span class="p">);</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga4954a1ed8e37fd9b758ff98bf3ecf7d4"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga4954a1ed8e37fd9b758ff98bf3ecf7d4" class="m-doc-self">task_delay</a>(</span><span class="m-doc-wrap">const uint32_t milliseconds)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Delays the current task for a given number of milliseconds.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">milliseconds</td>
                  <td>The number of milliseconds to wait (1000 milliseconds per second)</td>
                </tr>
              </tbody>
            </table>
<p>This is not the best method to have a task execute code at predefined intervals, as the delay time is measured from when the delay is requested. To delay cyclically, use <a href="group__c-rtos.html#ga151eaf730a10d101bff15013a76b9aa8" class="m-doc">task_<wbr />delay_<wbr />until()</a>.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Do opcontrol things</span>
<span class="w">  </span><span class="n">task_delay</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga6a62f5325d65f95436762552df547d73"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga6a62f5325d65f95436762552df547d73" class="m-doc-self">delay</a>(</span><span class="m-doc-wrap">const uint32_t milliseconds)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Delays the current task for a given number of milliseconds.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">milliseconds</td>
                  <td>The number of milliseconds to wait (1000 milliseconds per second)</td>
                </tr>
              </tbody>
            </table>
<p>This is not the best method to have a task execute code at predefined intervals, as the delay time is measured from when the delay is requested. To delay cyclically, use <a href="group__c-rtos.html#ga151eaf730a10d101bff15013a76b9aa8" class="m-doc">task_<wbr />delay_<wbr />until()</a>.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Do opcontrol things</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga151eaf730a10d101bff15013a76b9aa8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga151eaf730a10d101bff15013a76b9aa8" class="m-doc-self">task_delay_until</a>(</span><span class="m-doc-wrap">uint32_t*const prev_time,
              const uint32_t delta)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Delays the current task until a specified time.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">prev_time</td>
                  <td>A pointer to the location storing the setpoint time. This should typically be initialized to the return value of <a href="group__c-rtos.html#gaa247cd38039665b7ac4b0d0920b83c80" class="m-doc">millis()</a>.</td>
                </tr>
                <tr>
                  <td>delta</td>
                  <td>The number of milliseconds to wait (1000 milliseconds per second)</td>
                </tr>
              </tbody>
            </table>
<p>This function can be used by periodic tasks to ensure a constant execution frequency.</p><p>The task will be woken up at the time *prev_time + delta, and *prev_time will be updated to reflect the time at which the task will unblock.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do opcontrol things</span>
<span class="w">    </span><span class="n">task_delay_until</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gab49c228af50a4677d45e4622fb5f982b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gab49c228af50a4677d45e4622fb5f982b" class="m-doc-self">task_get_priority</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Gets the priority of the specified task.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to check</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>The priority of the task</td>
                </tr>
              </tfoot>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Task Priority: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_get_priority</span><span class="p">(</span><span class="n">my_task</span><span class="p">));</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga6f4a1c359ab23c7811ed524aa8f71e06"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga6f4a1c359ab23c7811ed524aa8f71e06" class="m-doc-self">task_set_priority</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task,
              uint32_t prio)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Sets the priority of the specified task.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to set</td>
                </tr>
                <tr>
                  <td>prio</td>
                  <td>The new priority of the task</td>
                </tr>
              </tbody>
            </table>
<p>If the specified task&#x27;s state is available to be scheduled (e.g. not blocked) and new priority is higher than the currently running task, a context switch may occur.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ign</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Do things</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                            </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Example Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">task_set_priority</span><span class="p">(</span><span class="n">my_task</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga2e78836b08bab39de392cc6583383c5c"><div>
            <h3>
              <span class="m-doc-wrap-bumper">task_state_e_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga2e78836b08bab39de392cc6583383c5c" class="m-doc-self">task_get_state</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Gets the state of the specified task.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to check</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>The state of the task</td>
                </tr>
              </tfoot>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Task&#39;s State: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_get_state</span><span class="p">(</span><span class="n">my_task</span><span class="p">));</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga03b6c85287d209a26f882813f3a29eee"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga03b6c85287d209a26f882813f3a29eee" class="m-doc-self">task_suspend</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Suspends the specified task, making it ineligible to be scheduled.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to suspend</td>
                </tr>
              </tbody>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="n">mutex_t</span><span class="w"> </span><span class="n">counter_mutex</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mutex_take</span><span class="p">(</span><span class="n">counter_mutex</span><span class="p">,</span><span class="w"> </span><span class="n">TIMEOUT_MAX</span><span class="p">);</span><span class="c1">// Mutexes are used for protecting shared resources</span>
<span class="w">    </span><span class="n">counter</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="n">mutex_give</span><span class="p">(</span><span class="n">counter_mutex</span><span class="p">);</span>
<span class="w">    </span><span class="n">pros</span><span class="o">::</span><span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,;</span>

<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="n">mutex_take</span><span class="p">(</span><span class="n">counter_mutex</span><span class="p">,</span><span class="w"> </span><span class="n">TIMEOUT_MAX</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">counter</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">task_suspepend</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">    </span><span class="n">mutex_give</span><span class="p">(</span><span class="n">counter_mutex</span><span class="p">);</span>
<span class="w">    </span><span class="n">pros</span><span class="o">::</span><span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gaf44f1148d2f7ede99ebd023479812fba"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf44f1148d2f7ede99ebd023479812fba" class="m-doc-self">task_resume</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Resumes the specified task, making it eligible to be scheduled.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to resume</td>
                </tr>
              </tbody>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do stuff</span>
<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">task_t</span><span class="w"> </span><span class="n">task</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                    </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">autonomous</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_resume</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Run autonomous , then suspend the task so it doesn&#39;t interfere run</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// outside of autonomous or opcontrol</span>
<span class="w">  </span><span class="n">task_suspend</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_resume</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Opctonrol code here</span>
<span class="w">  </span><span class="n">task_suspend</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gabb3a36bf47f6df9c981b1d585b922497"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gabb3a36bf47f6df9c981b1d585b922497" class="m-doc-self">task_get_count</a>(</span><span class="m-doc-wrap">void)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Gets the number of tasks the kernel is currently managing, including all ready, blocked, or suspended tasks.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The number of tasks that are currently being managed by the kernel.</td>
                </tr>
              </tfoot>
            </table>
<p>A task that has been deleted, but not yet reaped by the idle task will also be included in the count. Tasks recently created may take one context switch to be counted.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Number of Running Tasks: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_get_count</span><span class="p">());</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga1000d8e18af587837b65ab74b79d1cc8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">char* </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga1000d8e18af587837b65ab74b79d1cc8" class="m-doc-self">task_get_name</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Gets the name of the specified task.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to check</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>A pointer to the name of the task</td>
                </tr>
              </tfoot>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Task Name: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_get_name</span><span class="p">(</span><span class="n">my_task</span><span class="p">));</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gace3de5c48a2d91b9843ac9bd62a62d91"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gace3de5c48a2d91b9843ac9bd62a62d91" class="m-doc-self">task_get_by_name</a>(</span><span class="m-doc-wrap">const char* name)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Gets a task handle from the specified name.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">name</td>
                  <td>The name to query</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>A task handle with a matching name, or NULL if none were found.</td>
                </tr>
              </tfoot>
            </table>
<p>The operation takes a relatively long time and should be used sparingly.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Do other things</span>
<span class="w">  </span><span class="n">task_delete</span><span class="p">(</span><span class="n">task_get_by_name</span><span class="p">(</span><span class="s">&quot;My Task&quot;</span><span class="p">));</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga663301f01d0cc8ecfd238fbe1346fc4d"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga663301f01d0cc8ecfd238fbe1346fc4d" class="m-doc-self">task_get_current</a>(</span><span class="m-doc-wrap">)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Get the currently running task handle.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The currently running task handle.</td>
                </tr>
              </tfoot>
            </table>
<p>This could be useful if a task wants to tell another task about itself.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">this_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_get_current</span><span class="p">();</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">task_get_state</span><span class="p">(</span><span class="n">this_take</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">E_TASK_STATE_RUNNING</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;This task is currently running</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="c1">// ...</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;PROS&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gaf69af2a08ca85bd16fa3d1b75dbcf790"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf69af2a08ca85bd16fa3d1b75dbcf790" class="m-doc-self">task_notify</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Sends a simple notification to task and increments the notification counter.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to notify</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>Always returns true.</td>
                </tr>
              </tfoot>
            </table>
<p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/notifications.html">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />notifications.html</a> for details.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ign</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="n">task_notify_take</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Code while waiting</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">puts</span><span class="p">(</span><span class="s">&quot;I was unblocked!&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                            </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Notify me! Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">controller_get_digital</span><span class="p">(</span><span class="n">CONTROLLER_MASTER</span><span class="p">,</span><span class="w"> </span><span class="n">DIGITAL_L1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">task_notify</span><span class="p">(</span><span class="n">my_task</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga9fa0dd52656774090c0005eb43ef2827"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga9fa0dd52656774090c0005eb43ef2827" class="m-doc-self">task_join</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Utilizes task notifications to wait until specified task is complete and deleted, then continues to execute the program.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The handle of the task to wait on.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>void</td>
                </tr>
              </tfoot>
            </table>
<p>Analogous to std::thread::join in C++.</p><p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/notifications.html">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />notifications.html</a> for details.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ign</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">lcd_print</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s running&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_get_name</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
<span class="w">  </span><span class="n">task_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="w">  </span><span class="n">lcd_print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;End of %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_get_name</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                            </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Example Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">lcd_set_text</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Running task.&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">task_join</span><span class="p">(</span><span class="n">my_task</span><span class="p">);</span>
<span class="w">  </span><span class="n">lcd_set_text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Task completed.&quot;</span><span class="p">);</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="gaf21b3326026e04f277e85236f4ff503a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf21b3326026e04f277e85236f4ff503a" class="m-doc-self">task_notify_ext</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task,
              uint32_t value,
              notify_action_e_t action,
              uint32_t* prev_value)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Sends a notification to a task, optionally performing some action.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to notify</td>
                </tr>
                <tr>
                  <td>value</td>
                  <td>The value used in performing the action</td>
                </tr>
                <tr>
                  <td>action</td>
                  <td>An action to optionally perform on the receiving task&#x27;s notification value</td>
                </tr>
                <tr>
                  <td>prev_value</td>
                  <td>A pointer to store the previous value of the target task&#x27;s notification, may be NULL</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>Dependent on the notification action. For NOTIFY_ACTION_NO_WRITE: return 0 if the value could be written without needing to overwrite, 1 otherwise. For all other NOTIFY_ACTION values: always return 0</td>
                </tr>
              </tfoot>
            </table>
<p>Will also retrieve the value of the notification in the target task before modifying the notification value.</p><p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/notifications.html">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />notifications.html</a> for details.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Wait until we have been notified 20 times before running the code</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">task_notify_take</span><span class="p">(</span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">TIMEOUT_MAX</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ... Code to do stuff here ...</span>

<span class="w">      </span><span class="c1">// Reset the notification counter</span>
<span class="w">      </span><span class="n">task_notify_take</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">TIMEOUT_MAX</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w">     </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">task_t</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                           </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Task&quot;</span><span class="p">);</span>
<span class="w">  </span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">controller_get_digital</span><span class="p">(</span><span class="n">CONTROLLER_MASTER</span><span class="p">,</span><span class="w"> </span><span class="n">DIGITAL_L1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">task_notify_ext</span><span class="p">(</span><span class="n">task</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">NOTIFY_ACTION_INCREMENT</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">count</span><span class="p">);</span>

<span class="w">    </span>
<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga15f1230bbc0fe029caf775a393b4a897"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga15f1230bbc0fe029caf775a393b4a897" class="m-doc-self">task_notify_take</a>(</span><span class="m-doc-wrap">bool clear_on_exit,
              uint32_t timeout)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Waits for a notification to be nonzero.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">clear_on_exit</td>
                  <td>If true (1), then the notification value is cleared. If false (0), then the notification value is decremented.</td>
                </tr>
                <tr>
                  <td>timeout</td>
                  <td>Specifies the amount of time to be spent waiting for a notification to occur.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>The value of the task&#x27;s notification value before it is decremented or cleared</td>
                </tr>
              </tfoot>
            </table>
<p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/notifications.html">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />notifications.html</a> for details.</p><p><strong>Example</strong></p><pre class="m-code"><span class="kt">void</span><span class="w"> </span><span class="nf">my_task_fn</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ign</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="n">task_notify_take</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">TIMEOUT_MAX</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">puts</span><span class="p">(</span><span class="s">&quot;I was unblocked!&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">opcontrol</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">task_t</span><span class="w"> </span><span class="n">my_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_create</span><span class="p">(</span><span class="n">my_task_fn</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">TASK_PRIORITY_DEFAULT</span><span class="p">,</span>
<span class="w">                            </span><span class="n">TASK_STACK_DEPTH_DEFAULT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Notify me! Task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">controller_get_digital</span><span class="p">(</span><span class="n">CONTROLLER_MASTER</span><span class="p">,</span><span class="w"> </span><span class="n">DIGITAL_L1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">task_notify</span><span class="p">(</span><span class="n">my_task</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga82a2d584952478f46b9bc766395bb8c2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga82a2d584952478f46b9bc766395bb8c2" class="m-doc-self">task_notify_clear</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#af4e78a5aaf6b45938ea1d203bbc5ad12" class="m-doc">task_<wbr />t</a> task)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Clears the notification for a task.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">task</td>
                  <td>The task to clear</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>False if there was not a notification waiting, true if there was</td>
                </tr>
              </tfoot>
            </table>
<p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/notifications.html">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />notifications.html</a> for details.</p><p><strong>Example</strong> <code class="m-code"></code></p>
          </div></section>
          <section class="m-doc-details" id="ga92aa79cdc30ffd13f63a7ffeca64b06f"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga92aa79cdc30ffd13f63a7ffeca64b06f" class="m-doc-self">mutex_create</a>(</span><span class="m-doc-wrap">void)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Creates a mutex.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>A handle to a newly created mutex. If an error occurred, NULL will be returned and errno can be checked for hints as to why mutex_create failed.</td>
                </tr>
              </tfoot>
            </table>
<p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/multitasking.html#mutexes">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />multitasking.html#mutexes</a> for details.</p><p><strong>Example</strong></p><pre class="m-code"><span class="n">mutex_t</span><span class="w"> </span><span class="n">mutex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutex_create</span><span class="p">();</span>
<span class="c1">// Acquire the mutex; other tasks using this command will wait until the mutex is released</span>
<span class="c1">// timeout can specify the maximum time to wait, or MAX_DELAY to wait forever</span>
<span class="c1">// If the timeout expires, &quot;false&quot; will be returned, otherwise &quot;true&quot;</span>
<span class="n">mutex_take</span><span class="p">(</span><span class="n">mutex</span><span class="p">,</span><span class="w"> </span><span class="n">MAX_DELAY</span><span class="p">);</span>
<span class="c1">// do some work</span>
<span class="c1">// Release the mutex for other tasks</span>
<span class="n">mutex_give</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga49aa5444b488ff60fc458aea8172adc2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga49aa5444b488ff60fc458aea8172adc2" class="m-doc-self">mutex_take</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> mutex,
              uint32_t timeout)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Takes and locks a mutex, waiting for up to a certain number of milliseconds before timing out.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">mutex</td>
                  <td><a href="classpros_1_1rtos_1_1Mutex.html" class="m-doc">Mutex</a> to attempt to lock.</td>
                </tr>
                <tr>
                  <td>timeout</td>
                  <td>Time to wait before the mutex becomes available. A timeout of 0 can be used to poll the mutex. TIMEOUT_MAX can be used to block indefinitely.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if the mutex was successfully taken, false otherwise. If false is returned, then errno is set with a hint about why the the mutex couldn&#x27;t be taken.</td>
                </tr>
              </tfoot>
            </table>
<p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/multitasking.html#mutexes">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />multitasking.html#mutexes</a> for details.</p><p><strong>Example</strong></p><pre class="m-code"><span class="n">mutex_t</span><span class="w"> </span><span class="n">mutex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutex_create</span><span class="p">();</span>
<span class="c1">// Acquire the mutex; other tasks using this command will wait until the mutex is released</span>
<span class="c1">// timeout can specify the maximum time to wait, or MAX_DELAY to wait forever</span>
<span class="c1">// If the timeout expires, &quot;false&quot; will be returned, otherwise &quot;true&quot;</span>
<span class="n">mutex_take</span><span class="p">(</span><span class="n">mutex</span><span class="p">,</span><span class="w"> </span><span class="n">timeout</span><span class="p">);</span>
<span class="c1">// do some work</span>
<span class="c1">// Release the mutex for other tasks</span>
<span class="n">mutex_give</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga7f20ed94cee8e04d491743b4b34feda1"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ga7f20ed94cee8e04d491743b4b34feda1" class="m-doc-self">mutex_give</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> mutex)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Unlocks a mutex.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">mutex</td>
                  <td><a href="classpros_1_1rtos_1_1Mutex.html" class="m-doc">Mutex</a> to unlock.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if the mutex was successfully returned, false otherwise. If false is returned, then errno is set with a hint about why the mutex couldn&#x27;t be returned.</td>
                </tr>
              </tfoot>
            </table>
<p>See <a href="https://pros.cs.purdue.edu/v5/tutorials/topical/multitasking.html#mutexes">https:/<wbr />/<wbr />pros.cs.purdue.edu/<wbr />v5/<wbr />tutorials/<wbr />topical/<wbr />multitasking.html#mutexes</a> for details.</p><p><strong>Example</strong></p><pre class="m-code"><span class="n">mutex_t</span><span class="w"> </span><span class="n">mutex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutex_create</span><span class="p">();</span>
<span class="c1">// Acquire the mutex; other tasks using this command will wait until the mutex is released</span>
<span class="c1">// timeout can specify the maximum time to wait, or MAX_DELAY to wait forever</span>
<span class="c1">// If the timeout expires, &quot;false&quot; will be returned, otherwise &quot;true&quot;</span>
<span class="n">mutex_take</span><span class="p">(</span><span class="n">mutex</span><span class="p">,</span><span class="w"> </span><span class="n">timeout</span><span class="p">);</span>
<span class="c1">// do some work</span>
<span class="c1">// Release the mutex for other tasks</span>
<span class="n">mutex_give</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span></pre>
          </div></section>
          <section class="m-doc-details" id="gaf5995c8132175bc8e76904ccd1f6e39a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#gaf5995c8132175bc8e76904ccd1f6e39a" class="m-doc-self">mutex_delete</a>(</span><span class="m-doc-wrap"><a href="kapi_8h.html#a93e65d556f878c762685fae603d1f95d" class="m-doc">mutex_<wbr />t</a> mutex)</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>Deletes a mutex.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">mutex</td>
                  <td><a href="classpros_1_1rtos_1_1Mutex.html" class="m-doc">Mutex</a> to unlock.</td>
                </tr>
              </tbody>
            </table>
<p><strong>Example</strong></p><pre class="m-code"><span class="n">mutex_t</span><span class="w"> </span><span class="n">mutex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutex_create</span><span class="p">();</span>
<span class="c1">// Acquire the mutex; other tasks using this command will wait until the mutex is released</span>
<span class="c1">// timeout can specify the maximum time to wait, or MAX_DELAY to wait forever</span>
<span class="c1">// If the timeout expires, &quot;false&quot; will be returned, otherwise &quot;true&quot;</span>
<span class="n">mutex_take</span><span class="p">(</span><span class="n">mutex</span><span class="p">,</span><span class="w"> </span><span class="n">MAX_DELAY</span><span class="p">);</span>
<span class="c1">// do some work</span>
<span class="c1">// Release the mutex for other tasks</span>
<span class="n">mutex_give</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<span class="c1">// Delete the mutex</span>
<span class="n">mutex_delete</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span></pre>
          </div></section>
        </section>
        <section>
          <h2>Enum documentation</h2>
          <section class="m-doc-details" id="ga23d5ffd47ed255206f177fe9d891335b"><div>
            <h3>
              enum <a href="#ga23d5ffd47ed255206f177fe9d891335b" class="m-doc-self">task_state_e_t</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The state of a task.</p>
            <table class="m-table m-fullwidth m-flat m-doc">
              <thead><tr><th style="width: 1%">Enumerators</th><th></th></tr></thead>
              <tbody>
                <tr>
                  <td><a href="#gga23d5ffd47ed255206f177fe9d891335ba3b7873566c73fb17191451f641f3f564" class="m-doc-self" id="gga23d5ffd47ed255206f177fe9d891335ba3b7873566c73fb17191451f641f3f564">E_TASK_STATE_RUNNING</a></td>
                  <td>
                  <p>The task is actively executing.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga23d5ffd47ed255206f177fe9d891335ba7a9b05db250161908d541259cc9b6c08" class="m-doc-self" id="gga23d5ffd47ed255206f177fe9d891335ba7a9b05db250161908d541259cc9b6c08">E_TASK_STATE_READY</a></td>
                  <td>
                  <p>The task exists and is available to run, but is not currently running.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga23d5ffd47ed255206f177fe9d891335ba833a2009d6613fe7f3357551c525e953" class="m-doc-self" id="gga23d5ffd47ed255206f177fe9d891335ba833a2009d6613fe7f3357551c525e953">E_TASK_STATE_BLOCKED</a></td>
                  <td>
                  <p>The task is delayed or blocked by a mutex, semaphore, or I/O operation.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga23d5ffd47ed255206f177fe9d891335ba1c6ab831f17838fb926088f3353cb13c" class="m-doc-self" id="gga23d5ffd47ed255206f177fe9d891335ba1c6ab831f17838fb926088f3353cb13c">E_TASK_STATE_SUSPENDED</a></td>
                  <td>
                  <p>The task is supended using task_suspend.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga23d5ffd47ed255206f177fe9d891335ba521c1585b4d885ca38cc463d74d1fa4d" class="m-doc-self" id="gga23d5ffd47ed255206f177fe9d891335ba521c1585b4d885ca38cc463d74d1fa4d">E_TASK_STATE_DELETED</a></td>
                  <td>
                  <p>The task has been deleted using task_delete.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga23d5ffd47ed255206f177fe9d891335ba4b91d8b231764bb6556618bdb78c34a0" class="m-doc-self" id="gga23d5ffd47ed255206f177fe9d891335ba4b91d8b231764bb6556618bdb78c34a0">E_TASK_STATE_INVALID</a></td>
                  <td>
                  <p>The task handle does not point to a current or past task.</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ga42ea99b5e5d38da0b98154609cf6c570"><div>
            <h3>
              enum <a href="#ga42ea99b5e5d38da0b98154609cf6c570" class="m-doc-self">notify_action_e_t</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>brief The action to take when a task is notified.</p>
            <table class="m-table m-fullwidth m-flat m-doc">
              <thead><tr><th style="width: 1%">Enumerators</th><th></th></tr></thead>
              <tbody>
                <tr>
                  <td><a href="#gga42ea99b5e5d38da0b98154609cf6c570a8ef04ba61995d97d82fd7bf1ff4d772f" class="m-doc-self" id="gga42ea99b5e5d38da0b98154609cf6c570a8ef04ba61995d97d82fd7bf1ff4d772f">E_NOTIFY_ACTION_NONE</a></td>
                  <td>
                  <p>The tasks notification value will not be touched.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga42ea99b5e5d38da0b98154609cf6c570adc1fa6911e0d71db6404d3c8b7276e02" class="m-doc-self" id="gga42ea99b5e5d38da0b98154609cf6c570adc1fa6911e0d71db6404d3c8b7276e02">E_NOTIFY_ACTION_BITS</a></td>
                  <td>
                  <p>The tasks notification value will be bitwise ORed with the new value.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga42ea99b5e5d38da0b98154609cf6c570ab9b6a7e40e7b9553e8b1782b2c0bc155" class="m-doc-self" id="gga42ea99b5e5d38da0b98154609cf6c570ab9b6a7e40e7b9553e8b1782b2c0bc155">E_NOTIFY_ACTION_INCR</a></td>
                  <td>
                  <p>The tasks notification value will be incremented by one, effectively using it as a notification counter.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga42ea99b5e5d38da0b98154609cf6c570a11be52cd9271cd1504f7555b73e5bd89" class="m-doc-self" id="gga42ea99b5e5d38da0b98154609cf6c570a11be52cd9271cd1504f7555b73e5bd89">E_NOTIFY_ACTION_OWRITE</a></td>
                  <td>
                  <p>The tasks notification value will be unconditionally set to the new value.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#gga42ea99b5e5d38da0b98154609cf6c570a735b4ce042c8998c9432449b5f7efdc5" class="m-doc-self" id="gga42ea99b5e5d38da0b98154609cf6c570a735b4ce042c8998c9432449b5f7efdc5">E_NOTIFY_ACTION_NO_OWRITE</a></td>
                  <td>
                  <p>The tasks notification value will be set to the new value if the task does not already have a pending notification.</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div></section>
        </section>
        <section>
          <h2>Typedef documentation</h2>
          <section class="m-doc-details" id="ga1d7e0825b8d8876e8cd8ece3f9115293"><div>
            <h3>
              typedef void* <a href="#ga1d7e0825b8d8876e8cd8ece3f9115293" class="m-doc-self">task_t</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>An opaque type that pontis to a task handle.</p>
<p>This is used for referencing a task.</p>
          </div></section>
          <section class="m-doc-details" id="gaece0aa29b1f1538115228d2197239f98"><div>
            <h3>
              typedef void(*<a href="#gaece0aa29b1f1538115228d2197239f98" class="m-doc-self">task_fn_t</a>)(void*)
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>A pointer to a task&#x27;s function.</p>
<p>Such a function is called when a task starts, and exiting said function will terminate the task.</p>
          </div></section>
          <section class="m-doc-details" id="gab15ea84d90257d70b44e8e04519864d2"><div>
            <h3>
              typedef void* <a href="#gab15ea84d90257d70b44e8e04519864d2" class="m-doc-self">mutex_t</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>A <a href="multitasking.html" class="m-doc">mutex.</a>.</p>
<p>A mutex is a synchronization object that can be used to protect a shared resource from being accessed by multiple tasks at the same time. A mutex can be claimed by a task, which will prevent other tasks from claiming it until that task releases it.</p>
          </div></section>
        </section>
        <section>
          <h2>Define documentation</h2>
          <section class="m-doc-details" id="gad028cb03c935557184a71a6c53915065"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#gad028cb03c935557184a71a6c53915065" class="m-doc-self">CURRENT_TASK</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The task handle of the currently running task.</p>
          </div></section>
          <section class="m-doc-details" id="ga87892f18571e88eba7fbe758759cac05"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga87892f18571e88eba7fbe758759cac05" class="m-doc-self">TASK_PRIORITY_MAX</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The highest priority that can be assigned to a task.</p>
<p>A task with this priority will always run if it is available to. Beware of deadlocks when using this priority.</p>
          </div></section>
          <section class="m-doc-details" id="gae35baef65db45cef90a74266acb31b10"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#gae35baef65db45cef90a74266acb31b10" class="m-doc-self">TASK_PRIORITY_MIN</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The lowest priority that can be assigned to a task.</p>
<p>This can cause severe performance problems and is generally not recommended that users use this priority.</p>
          </div></section>
          <section class="m-doc-details" id="ga3082a7e8f15691441dba683711bb823f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga3082a7e8f15691441dba683711bb823f" class="m-doc-self">TASK_PRIORITY_DEFAULT</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The default task priority, which should be used for most tasks unless you have a specific need for a higher or lower priority task.</p>
<p>The default tasks, such as <a href="main_8h.html#a2df3d06bc5bced154da27fce393f991f" class="m-doc">autonomous()</a>, are run with this priority</p>
          </div></section>
          <section class="m-doc-details" id="ga9ffb33b9e3714ca949d9f45dde3cbf8f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga9ffb33b9e3714ca949d9f45dde3cbf8f" class="m-doc-self">TASK_STACK_DEPTH_DEFAULT</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The recommended stack size for a new task.</p>
<p>This stack size is used for the default tasks such as <a href="main_8h.html#a2df3d06bc5bced154da27fce393f991f" class="m-doc">autonomous()</a>. This size is 8,192 words, or 32,768 bytes. This should be enough for the majority of tasks</p>
          </div></section>
          <section class="m-doc-details" id="gafa551bbf9a2333b9241b2e99530a8767"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#gafa551bbf9a2333b9241b2e99530a8767" class="m-doc-self">TASK_STACK_DEPTH_MIN</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The minimal stack size for a task.</p>
<p>This equates to 512 words, or 2,048 bytes.</p>
          </div></section>
          <section class="m-doc-details" id="ga6d22565b4bdfe36c8f8a0a376e565460"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga6d22565b4bdfe36c8f8a0a376e565460" class="m-doc-self">TASK_NAME_MAX_LEN</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The maximum number of characters allowed in a task&#x27;s name.</p>
          </div></section>
          <section class="m-doc-details" id="ga9146d5b264ff64b573607d62fc479c3f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga9146d5b264ff64b573607d62fc479c3f" class="m-doc-self">TIMEOUT_MAX</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="rtos_8h.html">&lt;pros/rtos.h&gt;</a></div>
            </h3>
            <p>The maximum timeout value that can be given to, for instance, a mutex grab.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim"></span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim"></span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>PROS for
V5. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.17 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
