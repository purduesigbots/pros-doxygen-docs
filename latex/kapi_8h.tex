\hypertarget{kapi_8h}{}\section{pros/include/kapi.h File Reference}
\label{kapi_8h}\index{pros/include/kapi.\+h@{pros/include/kapi.\+h}}
{\ttfamily \#include \char`\"{}api.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pros/apix.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rtos/\+Free\+R\+T\+O\+S.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rtos/stream\+\_\+buffer.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{kapi_8h_a7cb5988f848e9a61b6f81576ef4fda8a}{K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO}~3
\item 
\#define \hyperlink{kapi_8h_ae722946254739175acaf8b570e77e510}{warn\+\_\+printf}(fmt, ...)~dprintf(S\+T\+D\+E\+R\+R\+\_\+\+F\+I\+L\+E\+NO, \char`\"{}\%s\+:\%d -\/-\/ \char`\"{} fmt \char`\"{}\textbackslash{}n\char`\"{}, \+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+\_\+, \+\_\+\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+, \#\#\+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\item 
\#define \hyperlink{kapi_8h_aa56805b96562808390c620b9a60dec05}{warn\+\_\+wprint}(str)~wprintf(\char`\"{}\%s\char`\"{}, str)
\item 
\#define \hyperlink{kapi_8h_ad6e5f3a8fac274076a837a26e508ffb7}{kprintf}(fmt, ...)~dprintf(\hyperlink{kapi_8h_a7cb5988f848e9a61b6f81576ef4fda8a}{K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO}, \char`\"{}\%s\+:\%d -\/-\/ \char`\"{} fmt \char`\"{}\textbackslash{}n\char`\"{}, \+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+\_\+, \+\_\+\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+, \#\#\+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\item 
\#define \hyperlink{kapi_8h_a9cdf245d9d4255125fe917cb04da49af}{kprint}(str)~\hyperlink{kapi_8h_ad6e5f3a8fac274076a837a26e508ffb7}{kprintf}(\char`\"{}\%s\char`\"{}, str)
\item 
\#define \hyperlink{kapi_8h_a5c5fecd69dde4a2e5298d6702073c547}{kassert}(cond)
\item 
\#define \hyperlink{kapi_8h_a0cad071ca127a35df93166e9ed5b6ada}{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED}~((int32\+\_\+t)0)
\item 
\#define \hyperlink{kapi_8h_a0923fdaae1bfe42ac5cccd9e9ddca9ed}{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED}~((int32\+\_\+t)1)
\item 
\#define \hyperlink{kapi_8h_acbb675035741787d29da475b5a887545}{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+U\+N\+N\+I\+NG}~((int32\+\_\+t)2)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef uint32\+\_\+t \hyperlink{kapi_8h_a184cb36aad264b6917c489bbc2b793a5}{task\+\_\+stack\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{kapi_8h_afd02377d2e9c5c04feadab70462322fd}{rtos\+\_\+suspend\+\_\+all} (void)
\item 
int32\+\_\+t \hyperlink{kapi_8h_a1db72fd4961113c9255cce71d169cbfa}{rtos\+\_\+resume\+\_\+all} (void)
\item 
\hyperlink{rtos_8h_a1d7e0825b8d8876e8cd8ece3f9115293}{task\+\_\+t} \hyperlink{kapi_8h_a0f24b77c29ca853ea5f03d79acc4b726}{task\+\_\+create\+\_\+static} (\hyperlink{rtos_8h_aece0aa29b1f1538115228d2197239f98}{task\+\_\+fn\+\_\+t} task\+\_\+code, void $\ast$const param, uint32\+\_\+t priority, const size\+\_\+t stack\+\_\+size, const char $\ast$const name, \hyperlink{kapi_8h_a184cb36aad264b6917c489bbc2b793a5}{task\+\_\+stack\+\_\+t} $\ast$const stack\+\_\+buffer, static\+\_\+task\+\_\+s\+\_\+t $\ast$const task\+\_\+buffer)
\item 
\hyperlink{rtos_8h_ab15ea84d90257d70b44e8e04519864d2}{mutex\+\_\+t} \hyperlink{kapi_8h_a81b28a183397697dc8dfb94f96f875f2}{mutex\+\_\+create\+\_\+static} (static\+\_\+sem\+\_\+s\+\_\+t $\ast$mutex\+\_\+buffer)
\item 
\hyperlink{apix_8h_abc53a59ab4c3c8f2d7660e63990be7a7}{sem\+\_\+t} \hyperlink{kapi_8h_a00d5fa4e33897eebbb15fced79d92c15}{sem\+\_\+create\+\_\+static} (uint32\+\_\+t max\+\_\+count, uint32\+\_\+t init\+\_\+count, static\+\_\+sem\+\_\+s\+\_\+t $\ast$semaphore\+\_\+buffer)
\item 
\hyperlink{apix_8h_a2d363eefb03348f96e985eadcfb184ab}{queue\+\_\+t} \hyperlink{kapi_8h_a25237b68d7e177a3b32ece8b36bff9ef}{queue\+\_\+create\+\_\+static} (uint32\+\_\+t length, uint32\+\_\+t item\+\_\+size, uint8\+\_\+t $\ast$storage\+\_\+buffer, static\+\_\+queue\+\_\+s\+\_\+t $\ast$queue\+\_\+buffer)
\item 
void \hyperlink{kapi_8h_abc782ea27c8020a7181f1d9620d22d7c}{display\+\_\+error} (const char $\ast$text)
\item 
void \hyperlink{kapi_8h_a0070639864e6a77a016b6262a1eb5e7c}{display\+\_\+fatal\+\_\+error} (const char $\ast$text)
\item 
void \hyperlink{kapi_8h_ae1fae740005d8465ab94006b6ba8629e}{kprint\+\_\+hex} (uint8\+\_\+t $\ast$s, size\+\_\+t len)
\item 
int32\+\_\+t \hyperlink{kapi_8h_a26e0cd9a9907be72f7d3028164380cda}{x\+Task\+Get\+Scheduler\+State} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Kernel A\+PI header

Contains additional declarations for use internally within kernel development. This file includes the Free\+R\+T\+OS header, which allows for creation of statically allocated Free\+R\+T\+OS primitives like tasks, semaphores, and queues.

Copyright (c) 2017-\/2020, Purdue University A\+CM S\+I\+G\+Bots. All rights reserved.

This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.\+0. If a copy of the M\+PL was not distributed with this file, You can obtain one at \href{http://mozilla.org/MPL/2.0/}{\tt http\+://mozilla.\+org/\+M\+P\+L/2.\+0/}. 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{kapi_8h_a5c5fecd69dde4a2e5298d6702073c547}\label{kapi_8h_a5c5fecd69dde4a2e5298d6702073c547}} 
\index{kapi.\+h@{kapi.\+h}!kassert@{kassert}}
\index{kassert@{kassert}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{kassert}{kassert}}
{\footnotesize\ttfamily \#define kassert(\begin{DoxyParamCaption}\item[{}]{cond }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do} \{                                    \(\backslash\)
        if (!(cond)) \{                        \(\backslash\)
            kprint(\textcolor{stringliteral}{"Assertion failed: "} #cond); \(\backslash\)
        \}                                     \(\backslash\)
    \} \textcolor{keywordflow}{while} (0)
\end{DoxyCode}
\mbox{\Hypertarget{kapi_8h_a7cb5988f848e9a61b6f81576ef4fda8a}\label{kapi_8h_a7cb5988f848e9a61b6f81576ef4fda8a}} 
\index{kapi.\+h@{kapi.\+h}!K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO@{K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO}}
\index{K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO@{K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO}{KDBG\_FILENO}}
{\footnotesize\ttfamily \#define K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO~3}

\mbox{\Hypertarget{kapi_8h_a9cdf245d9d4255125fe917cb04da49af}\label{kapi_8h_a9cdf245d9d4255125fe917cb04da49af}} 
\index{kapi.\+h@{kapi.\+h}!kprint@{kprint}}
\index{kprint@{kprint}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{kprint}{kprint}}
{\footnotesize\ttfamily \#define kprint(\begin{DoxyParamCaption}\item[{}]{str }\end{DoxyParamCaption})~\hyperlink{kapi_8h_ad6e5f3a8fac274076a837a26e508ffb7}{kprintf}(\char`\"{}\%s\char`\"{}, str)}

\mbox{\Hypertarget{kapi_8h_ad6e5f3a8fac274076a837a26e508ffb7}\label{kapi_8h_ad6e5f3a8fac274076a837a26e508ffb7}} 
\index{kapi.\+h@{kapi.\+h}!kprintf@{kprintf}}
\index{kprintf@{kprintf}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{kprintf}{kprintf}}
{\footnotesize\ttfamily \#define kprintf(\begin{DoxyParamCaption}\item[{}]{fmt,  }\item[{}]{... }\end{DoxyParamCaption})~dprintf(\hyperlink{kapi_8h_a7cb5988f848e9a61b6f81576ef4fda8a}{K\+D\+B\+G\+\_\+\+F\+I\+L\+E\+NO}, \char`\"{}\%s\+:\%d -\/-\/ \char`\"{} fmt \char`\"{}\textbackslash{}n\char`\"{}, \+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+\_\+, \+\_\+\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+, \#\#\+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)}

\mbox{\Hypertarget{kapi_8h_a0923fdaae1bfe42ac5cccd9e9ddca9ed}\label{kapi_8h_a0923fdaae1bfe42ac5cccd9e9ddca9ed}} 
\index{kapi.\+h@{kapi.\+h}!task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED@{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED}}
\index{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED@{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED}{taskSCHEDULER\_NOT\_STARTED}}
{\footnotesize\ttfamily \#define task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED~((int32\+\_\+t)1)}

\mbox{\Hypertarget{kapi_8h_acbb675035741787d29da475b5a887545}\label{kapi_8h_acbb675035741787d29da475b5a887545}} 
\index{kapi.\+h@{kapi.\+h}!task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+U\+N\+N\+I\+NG@{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+U\+N\+N\+I\+NG}}
\index{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+U\+N\+N\+I\+NG@{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+U\+N\+N\+I\+NG}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+U\+N\+N\+I\+NG}{taskSCHEDULER\_RUNNING}}
{\footnotesize\ttfamily \#define task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+U\+N\+N\+I\+NG~((int32\+\_\+t)2)}

\mbox{\Hypertarget{kapi_8h_a0cad071ca127a35df93166e9ed5b6ada}\label{kapi_8h_a0cad071ca127a35df93166e9ed5b6ada}} 
\index{kapi.\+h@{kapi.\+h}!task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED@{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED}}
\index{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED@{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED}{taskSCHEDULER\_SUSPENDED}}
{\footnotesize\ttfamily \#define task\+S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+S\+U\+S\+P\+E\+N\+D\+ED~((int32\+\_\+t)0)}

\mbox{\Hypertarget{kapi_8h_ae722946254739175acaf8b570e77e510}\label{kapi_8h_ae722946254739175acaf8b570e77e510}} 
\index{kapi.\+h@{kapi.\+h}!warn\+\_\+printf@{warn\+\_\+printf}}
\index{warn\+\_\+printf@{warn\+\_\+printf}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{warn\+\_\+printf}{warn\_printf}}
{\footnotesize\ttfamily \#define warn\+\_\+printf(\begin{DoxyParamCaption}\item[{}]{fmt,  }\item[{}]{... }\end{DoxyParamCaption})~dprintf(S\+T\+D\+E\+R\+R\+\_\+\+F\+I\+L\+E\+NO, \char`\"{}\%s\+:\%d -\/-\/ \char`\"{} fmt \char`\"{}\textbackslash{}n\char`\"{}, \+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+\_\+, \+\_\+\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+, \#\#\+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)}

\mbox{\Hypertarget{kapi_8h_aa56805b96562808390c620b9a60dec05}\label{kapi_8h_aa56805b96562808390c620b9a60dec05}} 
\index{kapi.\+h@{kapi.\+h}!warn\+\_\+wprint@{warn\+\_\+wprint}}
\index{warn\+\_\+wprint@{warn\+\_\+wprint}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{warn\+\_\+wprint}{warn\_wprint}}
{\footnotesize\ttfamily \#define warn\+\_\+wprint(\begin{DoxyParamCaption}\item[{}]{str }\end{DoxyParamCaption})~wprintf(\char`\"{}\%s\char`\"{}, str)}



\subsection{Typedef Documentation}
\mbox{\Hypertarget{kapi_8h_a184cb36aad264b6917c489bbc2b793a5}\label{kapi_8h_a184cb36aad264b6917c489bbc2b793a5}} 
\index{kapi.\+h@{kapi.\+h}!task\+\_\+stack\+\_\+t@{task\+\_\+stack\+\_\+t}}
\index{task\+\_\+stack\+\_\+t@{task\+\_\+stack\+\_\+t}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{task\+\_\+stack\+\_\+t}{task\_stack\_t}}
{\footnotesize\ttfamily typedef uint32\+\_\+t \hyperlink{kapi_8h_a184cb36aad264b6917c489bbc2b793a5}{task\+\_\+stack\+\_\+t}}



\subsection{Function Documentation}
\mbox{\Hypertarget{kapi_8h_abc782ea27c8020a7181f1d9620d22d7c}\label{kapi_8h_abc782ea27c8020a7181f1d9620d22d7c}} 
\index{kapi.\+h@{kapi.\+h}!display\+\_\+error@{display\+\_\+error}}
\index{display\+\_\+error@{display\+\_\+error}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{display\+\_\+error()}{display\_error()}}
{\footnotesize\ttfamily void display\+\_\+error (\begin{DoxyParamCaption}\item[{const char $\ast$}]{text }\end{DoxyParamCaption})}

Display a non-\/fatal error to the built-\/in L\+C\+D/touch screen.

Note that this function is thread-\/safe, which requires that the scheduler be in a functioning state. For situations in which it is unclear whether the scheduler is working, use {\ttfamily display\+\_\+fatal\+\_\+error} instead.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em text} & The text string to display to the screen \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{kapi_8h_a0070639864e6a77a016b6262a1eb5e7c}\label{kapi_8h_a0070639864e6a77a016b6262a1eb5e7c}} 
\index{kapi.\+h@{kapi.\+h}!display\+\_\+fatal\+\_\+error@{display\+\_\+fatal\+\_\+error}}
\index{display\+\_\+fatal\+\_\+error@{display\+\_\+fatal\+\_\+error}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{display\+\_\+fatal\+\_\+error()}{display\_fatal\_error()}}
{\footnotesize\ttfamily void display\+\_\+fatal\+\_\+error (\begin{DoxyParamCaption}\item[{const char $\ast$}]{text }\end{DoxyParamCaption})}

Display a fatal error to the built-\/in L\+C\+D/touch screen.

This function is intended to be used when the integrity of the R\+T\+OS cannot be trusted. No thread-\/safety mechanisms are used and this function only relies on the use of the libv5rts.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em text} & The text string to display to the screen \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{kapi_8h_ae1fae740005d8465ab94006b6ba8629e}\label{kapi_8h_ae1fae740005d8465ab94006b6ba8629e}} 
\index{kapi.\+h@{kapi.\+h}!kprint\+\_\+hex@{kprint\+\_\+hex}}
\index{kprint\+\_\+hex@{kprint\+\_\+hex}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{kprint\+\_\+hex()}{kprint\_hex()}}
{\footnotesize\ttfamily void kprint\+\_\+hex (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{s,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}

Prints hex characters to the terminal.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em s} & The array of hex characters to print \\
\hline
 & {\em len} & The number of hex characters to print \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{kapi_8h_a81b28a183397697dc8dfb94f96f875f2}\label{kapi_8h_a81b28a183397697dc8dfb94f96f875f2}} 
\index{kapi.\+h@{kapi.\+h}!mutex\+\_\+create\+\_\+static@{mutex\+\_\+create\+\_\+static}}
\index{mutex\+\_\+create\+\_\+static@{mutex\+\_\+create\+\_\+static}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{mutex\+\_\+create\+\_\+static()}{mutex\_create\_static()}}
{\footnotesize\ttfamily \hyperlink{rtos_8h_ab15ea84d90257d70b44e8e04519864d2}{mutex\+\_\+t} mutex\+\_\+create\+\_\+static (\begin{DoxyParamCaption}\item[{static\+\_\+sem\+\_\+s\+\_\+t $\ast$}]{mutex\+\_\+buffer }\end{DoxyParamCaption})}

Creates a statically allocated mutex.

All Free\+R\+T\+OS primitives must be created statically if they are required for operation of the kernel.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em mutex\+\_\+buffer} & A buffer to store the mutex in\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A handle to a newly created mutex. If an error occurred, N\+U\+LL will be returned and errno can be checked for hints as to why mutex\+\_\+create failed. 
\end{DoxyReturn}
\mbox{\Hypertarget{kapi_8h_a25237b68d7e177a3b32ece8b36bff9ef}\label{kapi_8h_a25237b68d7e177a3b32ece8b36bff9ef}} 
\index{kapi.\+h@{kapi.\+h}!queue\+\_\+create\+\_\+static@{queue\+\_\+create\+\_\+static}}
\index{queue\+\_\+create\+\_\+static@{queue\+\_\+create\+\_\+static}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+create\+\_\+static()}{queue\_create\_static()}}
{\footnotesize\ttfamily \hyperlink{apix_8h_a2d363eefb03348f96e985eadcfb184ab}{queue\+\_\+t} queue\+\_\+create\+\_\+static (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{length,  }\item[{uint32\+\_\+t}]{item\+\_\+size,  }\item[{uint8\+\_\+t $\ast$}]{storage\+\_\+buffer,  }\item[{static\+\_\+queue\+\_\+s\+\_\+t $\ast$}]{queue\+\_\+buffer }\end{DoxyParamCaption})}

Creates a statically allocated queue.

All Free\+R\+T\+OS primitives must be created statically if they are required for operation of the kernel.


\begin{DoxyParams}[1]{Parameters}
 & {\em length} & The maximum number of items that the queue can contain. \\
\hline
 & {\em item\+\_\+size} & The number of bytes each item in the queue will require. \\
\hline
\mbox{\tt out}  & {\em storage\+\_\+buffer} & A memory location for data storage \\
\hline
\mbox{\tt out}  & {\em queue\+\_\+buffer} & A buffer to store the queue in\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A handle to a newly created queue, or N\+U\+LL if the queue cannot be created. 
\end{DoxyReturn}
\mbox{\Hypertarget{kapi_8h_a1db72fd4961113c9255cce71d169cbfa}\label{kapi_8h_a1db72fd4961113c9255cce71d169cbfa}} 
\index{kapi.\+h@{kapi.\+h}!rtos\+\_\+resume\+\_\+all@{rtos\+\_\+resume\+\_\+all}}
\index{rtos\+\_\+resume\+\_\+all@{rtos\+\_\+resume\+\_\+all}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{rtos\+\_\+resume\+\_\+all()}{rtos\_resume\_all()}}
{\footnotesize\ttfamily int32\+\_\+t rtos\+\_\+resume\+\_\+all (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Resumes the scheduler. It does not resume unsuspended tasks that were previously suspended by task\+\_\+suspend.

if(rtos\+\_\+resume\+\_\+all()) \{ task\+\_\+delay(0); // force context switch \} \begin{DoxyReturn}{Returns}
True if a context switch is necessary. 
\end{DoxyReturn}
\mbox{\Hypertarget{kapi_8h_afd02377d2e9c5c04feadab70462322fd}\label{kapi_8h_afd02377d2e9c5c04feadab70462322fd}} 
\index{kapi.\+h@{kapi.\+h}!rtos\+\_\+suspend\+\_\+all@{rtos\+\_\+suspend\+\_\+all}}
\index{rtos\+\_\+suspend\+\_\+all@{rtos\+\_\+suspend\+\_\+all}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{rtos\+\_\+suspend\+\_\+all()}{rtos\_suspend\_all()}}
{\footnotesize\ttfamily void rtos\+\_\+suspend\+\_\+all (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Suspends the scheduler without disabling interrupts. context switches will not occur while the scheduler is suspended. R\+T\+OS ticks that occur while the scheduler is suspended will be held pending until the scheduler has been unsuspended with \hyperlink{kapi_8h_a1db72fd4961113c9255cce71d169cbfa}{rtos\+\_\+resume\+\_\+all()}

When used correctly, this function ensures that operations occur atomically w.\+r.\+t. multitasking. Functions like task\+\_\+delay, queue\+\_\+send, and other functions M\+U\+ST N\+OT be called while the scheduler is disabled. \mbox{\Hypertarget{kapi_8h_a00d5fa4e33897eebbb15fced79d92c15}\label{kapi_8h_a00d5fa4e33897eebbb15fced79d92c15}} 
\index{kapi.\+h@{kapi.\+h}!sem\+\_\+create\+\_\+static@{sem\+\_\+create\+\_\+static}}
\index{sem\+\_\+create\+\_\+static@{sem\+\_\+create\+\_\+static}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{sem\+\_\+create\+\_\+static()}{sem\_create\_static()}}
{\footnotesize\ttfamily \hyperlink{apix_8h_abc53a59ab4c3c8f2d7660e63990be7a7}{sem\+\_\+t} sem\+\_\+create\+\_\+static (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{max\+\_\+count,  }\item[{uint32\+\_\+t}]{init\+\_\+count,  }\item[{static\+\_\+sem\+\_\+s\+\_\+t $\ast$}]{semaphore\+\_\+buffer }\end{DoxyParamCaption})}

Creates a statically allocated semaphore.

All Free\+R\+T\+OS primitives must be created statically if they are required for operation of the kernel.


\begin{DoxyParams}[1]{Parameters}
 & {\em max\+\_\+count} & The maximum count value that can be reached. \\
\hline
 & {\em init\+\_\+count} & The initial count value assigned to the new semaphore. \\
\hline
\mbox{\tt out}  & {\em semaphore\+\_\+buffer} & A buffer to store the semaphore in\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A newly created semaphore. If an error occurred, N\+U\+LL will be returned and errno can be checked for hints as to why sem\+\_\+create failed. 
\end{DoxyReturn}
\mbox{\Hypertarget{kapi_8h_a0f24b77c29ca853ea5f03d79acc4b726}\label{kapi_8h_a0f24b77c29ca853ea5f03d79acc4b726}} 
\index{kapi.\+h@{kapi.\+h}!task\+\_\+create\+\_\+static@{task\+\_\+create\+\_\+static}}
\index{task\+\_\+create\+\_\+static@{task\+\_\+create\+\_\+static}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{task\+\_\+create\+\_\+static()}{task\_create\_static()}}
{\footnotesize\ttfamily \hyperlink{rtos_8h_a1d7e0825b8d8876e8cd8ece3f9115293}{task\+\_\+t} task\+\_\+create\+\_\+static (\begin{DoxyParamCaption}\item[{\hyperlink{rtos_8h_aece0aa29b1f1538115228d2197239f98}{task\+\_\+fn\+\_\+t}}]{task\+\_\+code,  }\item[{void $\ast$const}]{param,  }\item[{uint32\+\_\+t}]{priority,  }\item[{const size\+\_\+t}]{stack\+\_\+size,  }\item[{const char $\ast$const}]{name,  }\item[{\hyperlink{kapi_8h_a184cb36aad264b6917c489bbc2b793a5}{task\+\_\+stack\+\_\+t} $\ast$const}]{stack\+\_\+buffer,  }\item[{static\+\_\+task\+\_\+s\+\_\+t $\ast$const}]{task\+\_\+buffer }\end{DoxyParamCaption})}

Creates a task using statically allocated buffers. All tasks used by the P\+R\+OS system must use statically allocated buffers. This function uses the following values of errno when an error state is reached\+: E\+N\+O\+M\+EM -\/ The stack cannot be used as the T\+CB was not created.


\begin{DoxyParams}{Parameters}
{\em function} & Pointer to the task entry function \\
\hline
{\em parameters} & Pointer to memory that will be used as a parameter for the task being created. This memory should not typically come from stack, but rather from dynamically (i.\+e., malloc\textquotesingle{}d) or statically allocated memory. \\
\hline
{\em prio} & The priority at which the task should run. T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+\_\+\+D\+E\+F\+A\+U\+LT plus/minus 1 or 2 is typically used. \\
\hline
{\em stack\+\_\+depth} & The number of words (i.\+e. 4 $\ast$ stack\+\_\+depth) available on the task\textquotesingle{}s stack. T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+P\+T\+H\+\_\+\+D\+E\+F\+A\+U\+LT is typically sufficienct. \\
\hline
{\em name} & A descriptive name for the task. This is mainly used to facilitate debugging. The name may be up to 32 characters long.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A handle by which the newly created task can be referenced. If an error occurred, N\+U\+LL will be returned and errno can be checked for hints as to why task\+\_\+create failed. 
\end{DoxyReturn}
\mbox{\Hypertarget{kapi_8h_a26e0cd9a9907be72f7d3028164380cda}\label{kapi_8h_a26e0cd9a9907be72f7d3028164380cda}} 
\index{kapi.\+h@{kapi.\+h}!x\+Task\+Get\+Scheduler\+State@{x\+Task\+Get\+Scheduler\+State}}
\index{x\+Task\+Get\+Scheduler\+State@{x\+Task\+Get\+Scheduler\+State}!kapi.\+h@{kapi.\+h}}
\subsubsection{\texorpdfstring{x\+Task\+Get\+Scheduler\+State()}{xTaskGetSchedulerState()}}
{\footnotesize\ttfamily int32\+\_\+t x\+Task\+Get\+Scheduler\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

